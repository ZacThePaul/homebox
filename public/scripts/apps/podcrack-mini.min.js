const podcastPopup=document.getElementById("podcast-popup"),playerSource=document.getElementById("player-source"),playerPlayButton=document.getElementById("player-play"),playerRewind=document.getElementById("player-rewind"),playerForward=document.getElementById("player-forward"),playerArtwork=document.querySelector(".player-playing-now-artwork img"),playerNum=document.getElementById("player-time-numer"),playerDen=document.getElementById("player-time-denom"),onPagePlayButtons=document.getElementsByClassName("single-podcast-episode-play");let currentlyPlayingElement;function togglePlayButton(e,t,a){if(e.classList.remove("is_playing"),e.classList.add("is_paused"),t.src!=a){t.src=a;for(let e=0;e<onPagePlayButtons.length;e++)onPagePlayButtons[e].classList.remove("is_playing"),onPagePlayButtons[e].classList.add("is_paused")}t.paused?(t.play(),e.classList.remove("is_paused"),e.classList.add("is_playing"),playerPlayButton.classList.remove("is_paused"),playerPlayButton.classList.add("is_playing")):(t.pause(),e.classList.remove("is_playing"),e.classList.add("is_paused"),playerPlayButton.classList.remove("is_playing"),playerPlayButton.classList.add("is_paused")),currentlyPlayingElement=e}function togglePodcast(e){e.paused?(e.play(),playerPlayButton.classList.remove("is_paused"),playerPlayButton.classList.add("is_playing"),currentlyPlayingElement.classList.remove("is_paused"),currentlyPlayingElement.classList.add("is_playing")):(e.pause(),playerPlayButton.classList.remove("is_playing"),playerPlayButton.classList.add("is_paused"),currentlyPlayingElement.classList.remove("is_playing"),currentlyPlayingElement.classList.add("is_paused"))}document.addEventListener("DOMContentLoaded",(e=>{for(let e=0;e<onPagePlayButtons.length;e++){let t=onPagePlayButtons[e];t.addEventListener("click",(function(e){e.preventDefault(),podcastPopup.classList.remove("is_off"),console.log(podcastPopup.classList),togglePlayButton(this,playerSource,t.href)}))}})),playerPlayButton.addEventListener("click",(function(){togglePodcast(playerSource)})),playerRewind.addEventListener("click",(function(){playerSource.currentTime-=10})),playerForward.addEventListener("click",(function(){playerSource.currentTime+=45}));let podcrackTick=setInterval((function(){let e,t=Math.floor(playerSource.currentTime),a=Math.floor(t/3600),l=Math.floor((t-3600*a)/60),s=t-3600*a-60*l;e=a>0?a+":"+String(l).padStart(2,"0")+":"+String(s).padStart(2,"0"):l+":"+String(s).padStart(2,"0"),playerNum.textContent=e}),1e3);playerSource.addEventListener("play",(function(){navigator.mediaSession.metadata=new MediaMetadata({title:"Pompeii",artist:"Bastille",artwork:[{src:playerArtwork.src,sizes:"96x96",type:"image/png"}]})})),document.addEventListener("keydown",(function(e){let t=document.getElementById("podcrack-search");document.activeElement!==t&&(" "===e.key&&(e.preventDefault(),togglePodcast(playerSource)),"j"===e.key&&(e.preventDefault(),playerSource.currentTime-=10),"l"===e.key&&(e.preventDefault(),playerSource.currentTime+=45))}));